<app-breadcrumb breadcrumbs="Talentoo,SuperAdmin,{{ 'customHome.title' | translate }}"></app-breadcrumb>
<div class="row hide-mobile">
    <div class="col-12">
        <button mat-flat-button class="btn-primary btn-sm mr-m" (click)="publish($event)"
            [disabled]="!this.conf.company.customHome.draft || (!publishEnabled || this.conf.company.customHome.published) ">
            <mat-icon class="mr-sm">publish</mat-icon>{{'genericMessages.publish' | translate}}
        </button>
        <button mat-stroked-button class="btn-stroked-primary btn-sm mr-m" (click)="preview()"
            [disabled]="!previewEnabled">
            <mat-icon class="mr-sm">visibility</mat-icon>{{'customHome.preview' | translate}}
        </button>
        <div class="fake-mat-chip-sm success mr-m" *ngIf="this.conf.company.customHome.published">
            {{'genericMessages.publishedF' | translate}}
        </div>
        <div class="fake-mat-chip-sm mr-m" *ngIf="!this.conf.company.customHome.published">
            {{'genericMessages.draft' | translate}}
        </div>
        <label class="gray header-switch">{{'customHome.defaultView' | translate}} </label>
        <mat-slide-toggle [checked]="this.conf.company.customHome.default" (change)="activeDefault()">
        </mat-slide-toggle>
    </div>
</div>
<div class="row show-mobile">
    <div class="col-12 grid-display">
        <div>
            <button class="btn-primary btn-sm" mat-button [matMenuTriggerFor]="resp">
                <mat-icon>list</mat-icon>{{'genericMessages.actions' | translate}}
            </button>
            <mat-menu #resp="matMenu">
                <button mat-menu-item class="btn-stroked-primary btn-sm" (click)="publish($event)"
                    [disabled]="!this.conf.company.customHome.draft || (!publishEnabled || this.conf.company.customHome.published) ">
                    <mat-icon>publish</mat-icon>{{'customHome.publish' | translate}}
                </button>
                <button mat-menu-item class="btn-stroked-primary btn-sm" (click)="preview()"
                    [disabled]="!previewEnabled">
                    <mat-icon>visibility</mat-icon>{{'customHome.preview' | translate}}
                </button>
            </mat-menu>
        </div>
        <div class="fake-mat-chip-sm success ml-sm" *ngIf="this.conf.company.customHome.published">
            {{'genericMessages.publishedF' | translate}}
        </div>
        <div class="fake-mat-chip-sm ml-sm" *ngIf="!this.conf.company.customHome.published">
            {{'genericMessages.draft' | translate}}
        </div>
        <label class="gray header-switch ml-sm">{{'customHome.defaultView' | translate}} </label>
        <mat-slide-toggle [checked]="this.conf.company.customHome.default" (change)="activeDefault()">
        </mat-slide-toggle>
    </div>
</div>
<div class="row">
    <div class="col-12">
        <mat-card class="card-dark-header">
            <mat-card-header>
                <mat-card-title>
                    {{'customHome.homeEditable.title' | translate}}
                </mat-card-title>
            </mat-card-header>

            <mat-card-content>
                <form *ngIf="editHomeForm" [formGroup]="editHomeForm" (change)="changeState()">
                    <mat-form-field class="block-title">
                        <input matInput [placeholder]="'genericMessages.title' | translate" formControlName="title">
                        <mat-icon matSuffix>edit</mat-icon>
                        <mat-hint>{{'customHome.homeEditable.hint' | translate}}</mat-hint>
                    </mat-form-field>
                    <div class="mb-m mt-m"></div>
                    <angular-editor [placeholder]="'genericMessages.desc' | translate" formControlName="description" [config]="editorConfig" (ngModelChange)="changeState()">
                    </angular-editor>
                    <mat-hint><small>{{'customHome.homeEditable.hint' | translate}}</small></mat-hint>
                    <div class="mb-m mt-m"></div>
                    <mat-form-field>
                        <input matInput [placeholder]="'customHome.homeEditable.placeholder.url' | translate"
                            formControlName="buttonUrl" (change)="changeState()">
                        <mat-icon matSuffix>edit</mat-icon>
                    </mat-form-field>
                    <div class="mb-m"></div>
                </form>
            </mat-card-content>
            <mat-card-actions class="right">
                <button [disabled]="editHomeForm.invalid" mat-flat-button class="btn-primary" (click)="saveHome()">
                    {{'genericMessages.save' | translate}}
                </button>
            </mat-card-actions>
        </mat-card>
    </div>
</div>